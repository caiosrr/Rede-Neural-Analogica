Version 4.1
SHEET 1 1936 688
WIRE 48 -432 0 -432
WIRE 144 -432 128 -432
WIRE 192 -432 144 -432
WIRE 624 -432 624 -448
WIRE 304 -416 256 -416
WIRE 592 -416 304 -416
WIRE 192 -400 176 -400
WIRE 848 -400 656 -400
WIRE 1024 -400 848 -400
WIRE 304 -384 304 -416
WIRE 592 -384 576 -384
WIRE 848 -368 848 -400
WIRE 576 -288 576 -384
WIRE 992 -288 848 -288
WIRE 48 -272 16 -272
WIRE 144 -272 144 -432
WIRE 144 -272 128 -272
WIRE 176 -272 176 -400
WIRE 304 -272 304 -304
WIRE 304 -272 176 -272
WIRE 1024 -256 1024 -400
WIRE 144 -224 144 -272
WIRE 304 -224 304 -272
WIRE 992 -208 992 -288
WIRE 1008 -208 992 -208
WIRE 1136 -208 1088 -208
WIRE 1232 -208 1216 -208
WIRE 1280 -208 1232 -208
WIRE 1712 -208 1712 -224
WIRE 1392 -192 1344 -192
WIRE 1680 -192 1392 -192
WIRE 1280 -176 1264 -176
WIRE 1776 -176 1744 -176
WIRE 1392 -160 1392 -192
WIRE 1680 -160 1664 -160
WIRE 304 -144 144 -144
WIRE 1776 -128 1776 -176
WIRE 1664 -64 1664 -160
WIRE 976 -48 896 -48
WIRE 1136 -48 1056 -48
WIRE 1232 -48 1232 -208
WIRE 1232 -48 1216 -48
WIRE 1264 -48 1264 -176
WIRE 1392 -48 1392 -80
WIRE 1392 -48 1264 -48
WIRE 896 -32 896 -48
WIRE 896 -32 800 -32
WIRE 48 -16 -16 -16
WIRE 144 -16 128 -16
WIRE 192 -16 144 -16
WIRE 624 -16 624 -32
WIRE 1776 -16 1776 -48
WIRE 304 0 256 0
WIRE 592 0 304 0
WIRE 1232 0 1232 -48
WIRE 1392 0 1392 -48
WIRE 192 16 176 16
WIRE 768 16 656 16
WIRE 304 32 304 0
WIRE 592 32 576 32
WIRE 768 48 768 16
WIRE 800 48 768 48
WIRE 992 48 992 0
WIRE 992 48 800 48
WIRE 1392 80 1232 80
WIRE 1776 80 1776 48
WIRE 1776 80 1392 80
WIRE -576 112 -576 -96
WIRE 576 128 576 32
WIRE 48 144 0 144
WIRE 144 144 144 -16
WIRE 144 144 128 144
WIRE 176 144 176 16
WIRE 304 144 304 112
WIRE 304 144 176 144
WIRE 144 192 144 144
WIRE 304 192 304 144
WIRE -576 240 -576 192
WIRE -576 240 -640 240
WIRE -608 272 -640 272
WIRE 304 272 144 272
WIRE -576 304 -576 240
WIRE -704 368 -704 256
WIRE -656 368 -704 368
WIRE -608 368 -608 272
WIRE -608 368 -656 368
WIRE 1104 384 1104 176
WIRE 1104 512 1104 464
WIRE 1104 512 1040 512
WIRE 1072 544 1040 544
WIRE 1104 576 1104 512
WIRE 976 640 976 528
WIRE 1024 640 976 640
WIRE 1072 640 1072 544
WIRE 1072 640 1024 640
FLAG -752 -80 0
FLAG -752 -160 VCC
FLAG -672 288 VCC
FLAG -672 224 0
FLAG -656 368 4.5V
FLAG -576 384 0
FLAG 144 272 4.5V
FLAG 224 -32 0
FLAG 224 32 VCC
FLAG 624 48 VCC
FLAG 624 -32 0
FLAG -432 -320 0
FLAG -432 -400 W1
FLAG -576 -96 VCC
FLAG 576 128 W6
FLAG -224 560 0
FLAG -112 480 0
FLAG -224 480 SW2
FLAG -112 400 SW1
FLAG 144 -144 4.5V
FLAG 224 -448 0
FLAG 224 -384 VCC
FLAG 624 -368 VCC
FLAG 624 -448 0
FLAG 576 -288 W3
FLAG -240 -400 W3
FLAG -240 -320 0
FLAG 1312 -224 0
FLAG 1312 -160 7.5V
FLAG 1712 -144 7.5V
FLAG 1712 -224 0
FLAG 1664 -64 W9
FLAG 928 288 0
FLAG 928 208 7.5V
FLAG 1008 560 7.5V
FLAG 1008 496 0
FLAG 1024 640 3.75V
FLAG 1104 656 0
FLAG 1104 176 7.5V
FLAG 848 -208 0
FLAG 800 -112 0
FLAG 1552 -80 W9
FLAG 1552 0 0
FLAG 1232 80 3.75V
FLAG -80 -432 W1
FLAG -64 -272 W2
FLAG 0 -224 SW2
FLAG -48 -224 0
FLAG -64 -384 0
FLAG -16 -384 SW1
FLAG -96 -16 W4
FLAG -80 144 W5
FLAG -16 192 SW2
FLAG -64 192 0
FLAG -80 32 0
FLAG -32 32 SW1
FLAG -336 -400 W2
FLAG -336 -320 0
FLAG -432 112 0
FLAG -432 32 W4
FLAG -240 32 W6
FLAG -240 112 0
FLAG -336 32 W5
FLAG -336 112 0
FLAG 1040 0 0
FLAG 1072 -256 0
SYMBOL res 288 176 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 288 128 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 220k
SYMBOL res 32 0 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL res 128 176 R0
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL res -592 96 R0
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res -592 288 R0
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL voltage -752 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL voltage -432 -416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName W1
SYMATTR Value 5.78
SYMBOL res 144 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL voltage -224 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName SW2
SYMATTR Value PULSE(0 5 20 1u 1u 20 40)
SYMBOL voltage -112 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName SW1
SYMATTR Value PULSE(0 5 10 1u 1u 10 20)
SYMBOL OpAmps\\opamp2 624 80 M180
SYMATTR InstName U1
SYMATTR Value LM324
SYMBOL OpAmps\\opamp2 224 64 M180
SYMATTR InstName U2
SYMATTR Value LM324
SYMBOL OpAmps\\opamp2 -672 320 R180
SYMATTR InstName U3
SYMATTR Value LM324
SYMBOL res 288 -240 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res 288 -288 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 220k
SYMBOL res 32 -416 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res 128 -240 R0
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 144 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL OpAmps\\opamp2 624 -336 M180
SYMATTR InstName U4
SYMATTR Value LM324
SYMBOL OpAmps\\opamp2 224 -352 M180
SYMATTR InstName U5
SYMATTR Value LM324
SYMBOL voltage -240 -416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName W3
SYMATTR Value 1.58
SYMBOL res 1376 -16 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res 1376 -64 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 220k
SYMBOL res 1120 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 100k
SYMBOL res 1216 -16 R0
SYMATTR InstName R16
SYMATTR Value 100k
SYMBOL res 1232 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL OpAmps\\opamp2 1712 -112 M180
SYMATTR InstName U6
SYMATTR Value LM324
SYMBOL OpAmps\\opamp2 1312 -128 M180
SYMATTR InstName U7
SYMATTR Value LM324
SYMBOL res 1760 -144 R0
SYMATTR InstName R18
SYMATTR Value 100
SYMBOL LED 1760 -16 R0
SYMATTR InstName LED
SYMBOL res 1088 368 R0
SYMATTR InstName R19
SYMATTR Value 1k
SYMBOL res 1088 560 R0
SYMATTR InstName R20
SYMATTR Value 1k
SYMBOL voltage 928 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 7.5
SYMBOL OpAmps\\opamp2 1008 592 R180
SYMATTR InstName U8
SYMATTR Value LM324
SYMBOL res 832 -384 R0
WINDOW 0 42 51 Left 2
SYMATTR InstName R21
SYMATTR Value {10k-p1}
SYMBOL res 832 -304 R0
SYMATTR InstName R22
SYMATTR Value {p1}
SYMBOL res 784 -48 R0
WINDOW 0 39 29 Left 2
WINDOW 3 35 54 Left 2
SYMATTR InstName R23
SYMATTR Value {10k-p2}
SYMBOL res 784 -128 R0
SYMATTR InstName R24
SYMATTR Value {p2}
SYMBOL voltage 1552 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName W9
SYMATTR Value 4.14
SYMBOL sw -96 -432 R270
SYMATTR InstName S1
SYMBOL sw -80 -272 R270
SYMATTR InstName S2
SYMBOL sw -112 -16 R270
SYMATTR InstName S3
SYMBOL sw -96 144 R270
SYMATTR InstName S4
SYMBOL voltage -336 -416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName W2
SYMATTR Value 0.97
SYMBOL voltage -432 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName W4
SYMATTR Value 7.03
SYMBOL voltage -240 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName W6
SYMATTR Value 7.46
SYMBOL voltage -336 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName W5
SYMATTR Value 1.83
SYMBOL sw 1072 -48 M270
SYMATTR InstName S5
SYMBOL sw 1104 -208 R90
SYMATTR InstName S6
TEXT 392 544 Left 2 !.tran 40
TEXT 240 360 Left 2 !.model sw SW(Vt=2.5 Vh=0.2 Ron=10 Roff=10Meg)
TEXT 360 480 Left 2 !.inc LM324.ti.lib
TEXT 1104 -328 Left 2 !.param w7=4.88 w8=1.32 p1={w7*10k/7.5} p2={w8*10k/7.5}
